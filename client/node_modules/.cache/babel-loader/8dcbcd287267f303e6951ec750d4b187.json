{"ast":null,"code":"import _slicedToArray from \"/Users/fabiencordon/Documents/projets/nhl-playoff-game/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/fabiencordon/Documents/projets/nhl-playoff-game/client/src/components/Vote.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\nimport Favorite from '@material-ui/icons/Favorite';\nimport FavoriteBorder from '@material-ui/icons/FavoriteBorder';\n\nfunction Vote(props) {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        teams = _useState2[0],\n        setTeams = _useState2[1];\n\n  const _useState3 = useState([]),\n        _useState4 = _slicedToArray(_useState3, 2),\n        teamsSelected = _useState4[0],\n        setTeamsSelected = _useState4[1];\n\n  const _useState5 = useState(0),\n        _useState6 = _slicedToArray(_useState5, 2),\n        teamsCount = _useState6[0],\n        setTeamsCount = _useState6[1];\n\n  const handleVote = e => {\n    if (e.target.checked && teamsCount < 16) {\n      setTeamsSelected([...teamsSelected, e.target.value]);\n      setTeamsCount(teamsCount + 1);\n    }\n\n    if (!e.target.checked) {\n      console.log('oldTeamsSelected : ', teamsSelected);\n      const teamIndex = teamsSelected.indexOf(e.target.value);\n      teamsSelected.splice(teamIndex, 1);\n      console.log('teamsSelected : ', teamsSelected);\n      setTeamsCount(teamsCount - 1);\n    }\n  };\n\n  const getTeams = async () => {\n    const response = await axios.get('https://statsapi.web.nhl.com/api/v1/teams');\n    const body = await response.data;\n    return body.teams;\n  };\n\n  useEffect(() => {\n    let isSubscribed = true;\n    getTeams().then(res => isSubscribed && setTeams(res)).catch(err => console.log(err));\n    return () => isSubscribed = false;\n  }, []);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"section\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"Nombre d'\\xE9quipe s\\xE9lectionn\\xE9e : \", teamsCount), React.createElement(\"section\", {\n    className: \"Home-vote\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, teams.map((team, i) => React.createElement(\"div\", {\n    key: team.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: 'https://www-league.nhlstatic.com/images/logos/teams-current-primary-light/' + team.id + '.svg',\n    alt: team.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }), React.createElement(FormControlLabel, {\n    control: React.createElement(Checkbox, {\n      icon: React.createElement(FavoriteBorder, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }),\n      checkedIcon: React.createElement(Favorite, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }),\n      teamid: team.id,\n      id: team.name,\n      value: team.name,\n      onChange: handleVote,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }),\n    label: team.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  })))));\n}\n\nexport default Vote;","map":{"version":3,"sources":["/Users/fabiencordon/Documents/projets/nhl-playoff-game/client/src/components/Vote.js"],"names":["React","useState","useEffect","axios","FormControlLabel","Checkbox","CheckBoxIcon","Favorite","FavoriteBorder","Vote","props","teams","setTeams","teamsSelected","setTeamsSelected","teamsCount","setTeamsCount","handleVote","e","target","checked","value","console","log","teamIndex","indexOf","splice","getTeams","response","get","body","data","isSubscribed","then","res","catch","err","map","team","i","name","id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\n\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\nimport Favorite from '@material-ui/icons/Favorite';\nimport FavoriteBorder from '@material-ui/icons/FavoriteBorder';\n\nfunction Vote(props) {\n  const [teams, setTeams] = useState([])\n  const [teamsSelected, setTeamsSelected] = useState([])\n  const [teamsCount, setTeamsCount] = useState(0)\n\n  const handleVote = e => {\n    if (e.target.checked && teamsCount < 16) {\n      setTeamsSelected([...teamsSelected, e.target.value])\n      setTeamsCount(teamsCount + 1)\n    }\n    if(!e.target.checked) {\n      console.log('oldTeamsSelected : ', teamsSelected)\n      const teamIndex = teamsSelected.indexOf(e.target.value)\n      teamsSelected.splice(teamIndex, 1)\n      console.log('teamsSelected : ', teamsSelected)\n      setTeamsCount(teamsCount - 1)\n    }\n  }\n\n  const getTeams = async () => {\n    const response = await axios.get('https://statsapi.web.nhl.com/api/v1/teams')\n    const body = await response.data\n    return body.teams\n  }\n\n  useEffect(() => {\n    let isSubscribed = true\n\n    getTeams()\n    .then(res => isSubscribed && setTeams(res))\n    .catch(err => console.log(err))\n\n    return () => isSubscribed = false\n  }, [])\n\n  return (\n    <div>\n      <section>\n        Nombre d'équipe sélectionnée : {teamsCount}\n      </section>\n      <section className='Home-vote'>\n        {teams.map((team, i) => (\n          <div key={team.name}>\n            <img src={'https://www-league.nhlstatic.com/images/logos/teams-current-primary-light/' + team.id + '.svg'} alt={team.name} />\n            <FormControlLabel\n              control={<Checkbox icon={<FavoriteBorder />} checkedIcon={<Favorite />} teamid={team.id} id={team.name} value={team.name} onChange={handleVote} />}\n              label={team.name}\n            />\n          </div>\n        ))}\n      </section>\n    </div>\n  )\n}\n\nexport default Vote\n"]},"metadata":{},"sourceType":"module"}